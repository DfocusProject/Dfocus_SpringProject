<!-- templates/approval/detail.html -->
<div th:fragment="detailFragment">

    <div class="pan-header">
        일근태 신청 상세
<!--        <span>신청번호: <span th:text="${empInfo.requestId}"></span></span>-->
    </div>

    <div class="body">

        <!-- 기본 정보 -->
        <table class="detail-table">
            <tbody>
            <tr>
                <th>신청자</th>
                <td th:text="${empInfo.reqEmpCode + ' / ' + empInfo.reqEmpName}"></td>
                <th>부서명</th>
                <td th:text="${empInfo.department}"></td>
                <th>신청일</th>
                <td th:text="${empInfo.reqDate}"></td>
            </tr>
            <tr>
                <th>대상자</th>
                <td th:text="${empInfo.targetEmpCode + ' / ' + empInfo.targetEmpName}"></td>
                <th>부서명</th>
                <td th:text="${empInfo.department}"></td>
                <th>계획근무</th>
                <td th:text="${empInfo.planType}"></td>
            </tr>
            </tbody>
        </table>
        <!-- 신청 근태 상세 (대체 코드) -->
        <div class="panel">
<!--            <div class="title" th:text="'신청근태: ' + (${e.reqDetailType} ?: '')">신청근태: []</div>-->
            <div class="body">

                <!-- 연장근로 -->
                <table id="tbl-overtime" class="detail-table">
                    <tr>
                        <th>근무일</th>
                        <td class="workDate" th:text="${reqInfo.startDate}"></td>
                        <th>사유</th>
                        <td class="reason" th:text="${reqInfo.reason}"></td>
                    </tr>
                    <tr>
                        <th>근무시간</th>
                        <td colspan="3" class="timeRange"
                            th:text="(${reqInfo.startNextDay} ? '익일 ' : '당일 ') + ${#strings.substring(reqInfo.startTime, 0, 5)} + ' ~ ' +
             (${reqInfo.endNextDay} ? '익일 ' : '당일 ') + ${#strings.substring(reqInfo.endTime, 0, 5)} + '(' + ${reqInfo.hours} + '시간)' ">
                        </td>
                    </tr>
                    <tr>
                        <th>사유내용</th>
                        <td colspan="3" class="detail" th:text="${reqInfo.reasonDetail}">
                        </td>
                    </tr>
                </table>
            </div>
        </div>
        <!-- 근태기 정보 -->
        <div class="panel">
            <div class="title">근태기 정보</div>
            <table class="detail-table">
                <thead>
                <tr>
                    <th>날짜</th>
                    <th>출근시간</th>
                    <th>퇴근시간</th>
                </tr>
                </thead>
                <tr>
                    <td th:text="${commuteInfo != null && commuteInfo.workDate != null ? commuteInfo.workDate : '-'}"></td>
                    <td th:text="${commuteInfo != null && commuteInfo.workOnTime != null ? #temporals.format(commuteInfo.workOnTime, 'HH:mm:ss') : '-'}"></td>
                    <td th:text="${commuteInfo != null && commuteInfo.workOffTime != null ? #temporals.format(commuteInfo.workOffTime, 'HH:mm:ss') : '-'}"></td>
                </tr>
            </table>
        </div>

        <!-- 결재 정보 -->
        <div class="panel">
            <div class="title">결재 정보</div>
            <table class="detail-table">
                <thead>
                <tr>
                    <th>순번</th>
                    <th>부서</th>
                    <th>직책</th>
                    <th>이름</th>
                    <th>사번</th>
                    <th>결과</th>
                    <th>결재완료일</th>
                </tr>
                </thead>
                <tbody th:each="approvalInfo : ${approvalInfos}">
                <tr>
                    <td th:text="${approvalInfo.sequenceNo}"></td>
                    <td th:text="${approvalInfo.department}"></td>
                    <td th:text="${approvalInfo.duty}"></td>
                    <td th:text="${approvalInfo.name}"></td>
                    <td th:text="${approvalInfo.empCode}"></td>
                    <td th:text="${approvalInfo.result}"></td>
                    <td th:text="${approvalInfo.date}"></td>
                </tr>
                </tbody>
            </table>
        </div>

    </div>
</div>
